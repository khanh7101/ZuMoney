@tailwind base;
@tailwind components;
@tailwind utilities;

/* ------------------------------
   Safe-area helpers (iOS notch)
--------------------------------*/
:root{
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

/* Dùng trên container chính để tránh lấn tai thỏ */
.pt-safe { padding-top: var(--safe-top); }
/* Dùng cho nav dính đáy để ôm sát home-indicator */
.pb-safe { padding-bottom: var(--safe-bottom); }
/* Chừa chỗ cho bottom nav: ~64px (nav) + safe-bottom */
.pb-nav { padding-bottom: calc(64px + var(--safe-bottom)); }
/* Nếu cần spacer chiều cao nav */
.h-nav { height: calc(64px + var(--safe-bottom)); }

/* 100vh đúng trên iOS (dynamic viewport) */
.min-h-dvh { min-height: 100dvh; }

/* ------------------------------
   Reset & nền mặc định
--------------------------------*/
html, body {
  height: 100%;
  background-color: theme('colors.bg');
  color: theme('colors.text');
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-tap-highlight-color: transparent; /* bỏ highlight khi chạm trên iOS */
}

/* Fallback cho iOS rất cũ (khi chưa có dvh) */
@supports (-webkit-touch-callout: none) {
  body { min-height: -webkit-fill-available; }
}

/* Input luôn chữ tối dễ đọc khi nền sáng */
input, select, textarea { color: #0b1020; }

/* ------------------------------
   Ẩn thanh cuộn nhưng vẫn cuộn được
   (chỉ áp dụng trên thiết bị cảm ứng)
--------------------------------*/
@media (pointer: coarse) {
  html, body {
    -ms-overflow-style: none;   /* IE/Edge cũ */
    scrollbar-width: none;      /* Firefox */
  }
  /* Chrome/Safari/WebKit */
  *::-webkit-scrollbar {
    width: 0 !important;
    height: 0 !important;
  }
}

/* ------------------------------
   Chặn double-tap zoom trên các control
   (bản ngăn ngừa nhẹ bằng CSS)
--------------------------------*/
a, button, input, select, textarea {
  touch-action: manipulation;
}

/* ------------------------------
   UI helpers của app
--------------------------------*/
.card { @apply bg-card border border-white/10 rounded-xl p-4; }
.btn  { @apply bg-accent text-black py-2 px-4 rounded-lg font-semibold hover:opacity-90; }
